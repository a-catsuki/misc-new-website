{% extends "layout.html" %}

{% block head %}
<title>Events | MISC</title>
<link rel="stylesheet" href="/static/events.css">
<script src="/static/card.js"></script>
<link rel="stylesheet" href="/static/counter.css">
{% endblock %}

{% block body %}
<div class="loader-wrapper">
    <span class="loader"><img src="/static/misc-icon.svg" alt=""></span>
</div>
<script>
    $(window).on("load", function () {
        $(".loader-wrapper").fadeOut("slow");
    });
</script>

{% if cur_event_details  %}
    <div class="current-events">
        <pre class="current-title" data-aos="fade-up" id="current-events" style="color: white; width: 100%; display: flex; position: sticky;"><hr width="700px" class="current-line left-line"><span class="current-events-title">Upcoming Events</span><hr width="700px" class="current-line right-line"></pre>
        <p style="color: black; display: flex;position: sticky;">MSHN{L39234}</p>
        <div class="event-cards card-container">
            <div id="current-overlay" class="overlay"></div>
            {% for i in cur_event_details %}
                <a href="#current-events" class="hero card ev-card" id="{{ 'cur-card'+ loop.index|string }}" data-aos="flip-down" style="text-decoration: none;">
                    <div class="event-box">
                        <span></span>
                        <div class="card-header">
                            <img src="{{ i[4] }}" alt="event image" class="event-img">
                        </div>
                        <div class="card-content">
                            <h3 class= "event-title">{{ i[0] }}</h3>
                            <div class="date-location"><h6 class="event-date">{{ i[1] }}</h6><h6 class="location"><i class="fa-solid fa-location-dot"></i> {{ i[3] }}</h6></div>
                            <h6 class="time">{{ i[2] }}<div class="directions-div" onclick="window.location.href = '{{ i[6] }}'">Directions<i class="fa-solid fa-compass fa-spin"></i></div></h6>
                            <div class="event-desc">{{ i[5] }}</div>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>
    </div>
{% endif %}

<div class="past-events">
    <pre class="past-title" data-aos="fade-up" id="past-events" style="color: white; width: 100%; display: flex; position: sticky"><hr width="700px" class="past-line left-line"><span class="past-events-title">Past Events</span><hr width="700px" class="past-line right-line"></pre>
    <div class="event-cards card-container">
        <div id="past-overlay" class="overlay"></div>
        {% for j in past_event_details %}
        <a href="#past-events" class="hero card ev-card" id="{{ 'past-card'+ loop.index|string }}" data-aos="flip-down" style="text-decoration: none;">
            <div class="event-box">
                <span></span>
                <div class="card-header">
                    <img src="{{ j[4] }}" alt="event image" class="event-img">
                </div>
                <div class="card-content">
                    <h3 class= "event-title">{{ j[0] }}</h3>
                    <div class="date-location"><h6 class="event-date">{{ j[1] }}</h6><h6 class="location"><i class="fa-solid fa-location-dot"></i> {{ j[3] }}</h6></div>
                    <h6 class="time">{{ j[2] }}<div class="directions-div" onclick="window.location.href = '{{ j[6] }}'">Directions<i class="fa-solid fa-compass fa-spin"></i></div></h6>
                    <div class="event-desc">{{ j[5] }}
                        {% if "FLAGGED" in j[0] %}
                            <div class="ppt-link" onclick="window.location.href='{{ j[7] }}'">Link to the slides</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>

<script src="card.js"></script>
{% endblock %}